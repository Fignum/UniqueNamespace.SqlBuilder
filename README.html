<h1>UniqueNamespace.SqlBuilder</h1>

<p>A blatant ripoff of Dapper's SqlBuilder. Thanks Dapper!</p>

<h2>Why?</h2>

<p>We're using micro-ORMs because we don't like all of the complexity and bloat of "macro-ORMs." But we lose the ability to compose queries using LINQ.</p>

<p>This project aims to solve that by taking the SqlBuilder from Dapper and making a few adjustments.</p>

<h2>Features</h2>

<ul>
<li>No SQL generation. Your SQL is just that.</li>
<li>Parameter build-up.</li>
<li>Works with any SQL database</li>
<li>Not tied to any specific ORM, but does have out-of-box support for:
<ul>
<li>ADO.NET</li>
<li>Dapper</li>
<li>Insight.Database (my personal favorite)</li>
</ul></li>
</ul>

<h2>Example</h2>

<p>```c#</p>

<pre><code>var builder = new SqlBuilder();
var query = builder.AddTemplate("SELECT Id, This, That, TheOther" +
                                "FROM MyTable {{WHERE}} {{ORDERBY}}" +
                                "OFFSET @skip ROWS FETCH NEXT @take ROWS ONLY",
    new { skip = 10, take = 25 });

var count = builder.AddTemplate("SELECT Count(*) FROM MyTable {{WHERE}}");

if (userQuery.This != null)
builder.Where("This = @This", new { userQuery.This });

if (userQuery.That != null)
builder.Where("That = @That", new { userQuery.That });

if (userQuery.SortExpressions != null)
    foreach (var sort in userQuery.SortExpressions)
        builder.OrderBy(sort);

// using Insight.Database (MY FAVORITE!)
var results = connection.QuerySql&lt;ResultModel&gt;(query.RawSql, query.Parameters);
var totalRows = connection.SingleSql&lt;int&gt;(count.RawSql, count.Parameters);
</code></pre>

<p>```</p>

<p>Here's the SQL being executed:</p>

<p>```SQL</p>

<pre><code>SELECT Id, This, That, TheOther
FROM MyTable
WHERE This = @This AND That = @That
ORDER BY This, That DESC
OFFSET @skip ROWS FETCH NEXT @take ROWS ONLY

SELECT Count(*)
FROM MyTable
WHERE This = @This AND That = @That
</code></pre>

<p>```</p>

<h2>Installation</h2>

<p>PM> Install-Package UniqueNamespace.SqlBuilder</p>

<p>PM> Install-Package UniqueNamespace.SqlBuilder.Dapper</p>

<p>PM> Install-Package UniqueNamespace.SqlBuilder.Insight</p>
